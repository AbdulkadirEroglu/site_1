{% extends "site/base.html" %}

{% block hero %}
<section class="hero">
    <div class="container hero-inner">
        <div class="hero-copy">
            <p class="eyebrow">SVS AUTOMOTIVE</p>
            <h1>Automotive Spare Parts</h1>
            <p>For the protection of products that are not in our wide product range, please contact us. We source and deliver OEM-certified parts for heavy-duty machinery.</p>
            <form class="hero-search" role="search">
                <label for="hero-search" class="sr-only">Search product catalog</label>
                <input id="hero-search" type="search" placeholder="Product code, OEM number, part name..." />
                <button type="submit" class="btn primary">Search product</button>
            </form>
        </div>
        <div class="hero-visual" aria-hidden="true">
            <div class="hero-visual-inner">
                <div class="hero-circle"></div>
                <div class="hero-badge">OEM certified</div>
                <div class="hero-badge badge-secondary">Global supply</div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block content %}
<section class="recent-products" data-slider>
    <div class="slider-header">
        <div>
            <p class="eyebrow">Recently added</p>
            <h2>Highlighted spare parts</h2>
        </div>
        <div class="slider-controls" aria-label="Slider controls">
            <button type="button" class="slider-btn" data-action="prev" aria-label="Previous part">
                <span aria-hidden="true">&#8592;</span>
            </button>
            <button type="button" class="slider-btn" data-action="next" aria-label="Next part">
                <span aria-hidden="true">&#8594;</span>
            </button>
        </div>
    </div>
    <div class="slider-window">
        {% if recent_products %}
            {% for product in recent_products %}
            <article class="product-slide {% if loop.first %}is-active{% endif %}" data-slide>
                <h3>{{ product.name }}</h3>
                <p class="slide-meta">OEM {{ product.oem_number }} · Part {{ product.sku }}</p>
                <p class="slide-description">{{ product.summary or "No description available." }}</p>
            </article>
            {% endfor %}
        {% else %}
        <article class="product-slide is-active" data-slide>
            <h3>Catalog is warming up</h3>
            <p class="slide-meta">No live products yet</p>
            <p class="slide-description">Add products in the admin area to see them featured here.</p>
        </article>
        {% endif %}
    </div>
</section>

<section class="featured-products">
    <header class="featured-header">
        <div>
            <p class="eyebrow">Explore the catalog</p>
            <h2>Popular spare parts</h2>
        </div>
        <a class="btn secondary" href="/catalog">View full catalog</a>
    </header>
    <div class="featured-grid">
        {% for product in featured_products %}
        <article class="featured-card">
            {% if product.primary_image %}
            <figure class="featured-image">
                <img src="{{ product.primary_image.url }}" alt="{{ product.primary_image.alt }}" loading="lazy" />
            </figure>
            {% else %}
            <div class="placeholder-image"></div>
            {% endif %}
            <div class="featured-content">
                <h3>{{ product.name }}</h3>
                <p class="catalog-meta">OEM {{ product.oem_number }} · Part {{ product.sku }}</p>
                <p>{{ product.summary or "Details coming soon." }}</p>
            </div>
        </article>
        {% else %}
        <p class="empty-state">Add products to the catalog to showcase them on the homepage.</p>
        {% endfor %}
    </div>
</section>

<section class="grid highlights">
    <article>
        <h2>Unified catalog experience</h2>
        <p>Home, catalog, and marketing pages are aligned to showcase equipment parts with consistent branding.</p>
    </article>
    <article>
        <h2>Admin ready workflows</h2>
        <p>Login, dashboard, and catalog management experiences connect to specs, availability, and documentation.</p>
    </article>
    <article>
        <h2>FastAPI foundation</h2>
        <p>Serve pages, APIs, and assets from a single Python stack ready for integrations with ERPs or inventory feeds.</p>
    </article>
</section>
{% endblock %}
